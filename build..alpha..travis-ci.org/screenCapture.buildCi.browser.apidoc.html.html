<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://github.com/node-js-libs/cli">cli (v1.0.1)</a>
</h1>
<h4>A tool for rapidly building command line apps</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.cli">module cli</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">cli.</span>no_color</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.autocompleteCommand">
            function <span class="apidocSignatureSpan">cli.</span>autocompleteCommand
            <span class="apidocSignatureSpan">(command)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.createServer">
            function <span class="apidocSignatureSpan">cli.</span>createServer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.debug">
            function <span class="apidocSignatureSpan">cli.</span>debug
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.disable">
            function <span class="apidocSignatureSpan">cli.</span>disable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.enable">
            function <span class="apidocSignatureSpan">cli.</span>enable
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.error">
            function <span class="apidocSignatureSpan">cli.</span>error
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.exec">
            function <span class="apidocSignatureSpan">cli.</span>exec
            <span class="apidocSignatureSpan">(cmd, callback, errback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.exit">
            function <span class="apidocSignatureSpan">cli.</span>exit
            <span class="apidocSignatureSpan">(exitCode, streams)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.fatal">
            function <span class="apidocSignatureSpan">cli.</span>fatal
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.getArrayValue">
            function <span class="apidocSignatureSpan">cli.</span>getArrayValue
            <span class="apidocSignatureSpan">(arr, default_val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.getDate">
            function <span class="apidocSignatureSpan">cli.</span>getDate
            <span class="apidocSignatureSpan">(default_val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.getEmail">
            function <span class="apidocSignatureSpan">cli.</span>getEmail
            <span class="apidocSignatureSpan">(default_val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.getFloat">
            function <span class="apidocSignatureSpan">cli.</span>getFloat
            <span class="apidocSignatureSpan">(default_val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.getInt">
            function <span class="apidocSignatureSpan">cli.</span>getInt
            <span class="apidocSignatureSpan">(default_val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.getIp">
            function <span class="apidocSignatureSpan">cli.</span>getIp
            <span class="apidocSignatureSpan">(default_val)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.getOptError">
            function <span class="apidocSignatureSpan">cli.</span>getOptError
            <span class="apidocSignatureSpan">(expects, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.getPath">
            function <span class="apidocSignatureSpan">cli.</span>getPath
            <span class="apidocSignatureSpan">(default_val, identifier)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.getUrl">
            function <span class="apidocSignatureSpan">cli.</span>getUrl
            <span class="apidocSignatureSpan">(default_val, identifier)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.getUsage">
            function <span class="apidocSignatureSpan">cli.</span>getUsage
            <span class="apidocSignatureSpan">(code)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.getValue">
            function <span class="apidocSignatureSpan">cli.</span>getValue
            <span class="apidocSignatureSpan">(default_val, validate_func, err_msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.info">
            function <span class="apidocSignatureSpan">cli.</span>info
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.main">
            function <span class="apidocSignatureSpan">cli.</span>main
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert">
            function <span class="apidocSignatureSpan">cli.</span>native.assert
            <span class="apidocSignatureSpan">(value, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.next">
            function <span class="apidocSignatureSpan">cli.</span>next
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.ok">
            function <span class="apidocSignatureSpan">cli.</span>ok
            <span class="apidocSignatureSpan">(msg)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.output">
            function <span class="apidocSignatureSpan">cli.</span>output
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.parse">
            function <span class="apidocSignatureSpan">cli.</span>parse
            <span class="apidocSignatureSpan">(opts, command_def)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.parsePackageJson">
            function <span class="apidocSignatureSpan">cli.</span>parsePackageJson
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.progress">
            function <span class="apidocSignatureSpan">cli.</span>progress
            <span class="apidocSignatureSpan">(progress, decimals, stream)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.setApp">
            function <span class="apidocSignatureSpan">cli.</span>setApp
            <span class="apidocSignatureSpan">(name, version)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.setArgv">
            function <span class="apidocSignatureSpan">cli.</span>setArgv
            <span class="apidocSignatureSpan">(arr, keep_arg0)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.setUsage">
            function <span class="apidocSignatureSpan">cli.</span>setUsage
            <span class="apidocSignatureSpan">(u)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.spinner">
            function <span class="apidocSignatureSpan">cli.</span>spinner
            <span class="apidocSignatureSpan">(prefix, end, stream)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.status">
            function <span class="apidocSignatureSpan">cli.</span>status
            <span class="apidocSignatureSpan">(msg, type)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.toType">
            function <span class="apidocSignatureSpan">cli.</span>toType
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.withInput">
            function <span class="apidocSignatureSpan">cli.</span>withInput
            <span class="apidocSignatureSpan">(file, encoding, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.withStdin">
            function <span class="apidocSignatureSpan">cli.</span>withStdin
            <span class="apidocSignatureSpan">(encoding, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.withStdinLines">
            function <span class="apidocSignatureSpan">cli.</span>withStdinLines
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">cli.</span>argc</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">cli.</span>option_width</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">cli.</span>width</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cli.</span>args</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cli.</span>argv</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cli.</span>command</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cli.</span>native</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cli.</span>native._linklist</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cli.</span>options</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cli.</span>version</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">cli.</span>app</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cli.native">module cli.native</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert">
            function <span class="apidocSignatureSpan">cli.native.</span>assert
            <span class="apidocSignatureSpan">(value, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.module">
            function <span class="apidocSignatureSpan">cli.native.</span>module
            <span class="apidocSignatureSpan">(id, parent)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cli.native.</span>_linklist</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">cli.native.</span>sys</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cli.native._linklist">module cli.native._linklist</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native._linklist.append">
            function <span class="apidocSignatureSpan">cli.native._linklist.</span>append
            <span class="apidocSignatureSpan">(list, item)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native._linklist.create">
            function <span class="apidocSignatureSpan">cli.native._linklist.</span>create
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native._linklist.init">
            function <span class="apidocSignatureSpan">cli.native._linklist.</span>init
            <span class="apidocSignatureSpan">(list)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native._linklist.isEmpty">
            function <span class="apidocSignatureSpan">cli.native._linklist.</span>isEmpty
            <span class="apidocSignatureSpan">(list)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native._linklist.peek">
            function <span class="apidocSignatureSpan">cli.native._linklist.</span>peek
            <span class="apidocSignatureSpan">(list)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native._linklist.remove">
            function <span class="apidocSignatureSpan">cli.native._linklist.</span>remove
            <span class="apidocSignatureSpan">(item)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native._linklist.shift">
            function <span class="apidocSignatureSpan">cli.native._linklist.</span>shift
            <span class="apidocSignatureSpan">(list)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.cli.native.assert">module cli.native.assert</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.assert">
            function <span class="apidocSignatureSpan">cli.native.</span>assert
            <span class="apidocSignatureSpan">(value, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.AssertionError">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>AssertionError
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.deepEqual">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>deepEqual
            <span class="apidocSignatureSpan">(actual, expected, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.deepStrictEqual">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>deepStrictEqual
            <span class="apidocSignatureSpan">(actual, expected, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.doesNotThrow">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>doesNotThrow
            <span class="apidocSignatureSpan">(block, error, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.equal">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>equal
            <span class="apidocSignatureSpan">(actual, expected, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.fail">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>fail
            <span class="apidocSignatureSpan">(actual, expected, message, operator, stackStartFunction)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.ifError">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>ifError
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.notDeepEqual">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>notDeepEqual
            <span class="apidocSignatureSpan">(actual, expected, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.notDeepStrictEqual">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>notDeepStrictEqual
            <span class="apidocSignatureSpan">(actual, expected, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.notEqual">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>notEqual
            <span class="apidocSignatureSpan">(actual, expected, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.notStrictEqual">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>notStrictEqual
            <span class="apidocSignatureSpan">(actual, expected, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.ok">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>ok
            <span class="apidocSignatureSpan">(value, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.strictEqual">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>strictEqual
            <span class="apidocSignatureSpan">(actual, expected, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.cli.native.assert.throws">
            function <span class="apidocSignatureSpan">cli.native.assert.</span>throws
            <span class="apidocSignatureSpan">(block, error, message)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cli" id="apidoc.module.cli">module cli</a></h1>




    <h2>
        <a href="#apidoc.element.cli.autocompleteCommand" id="apidoc.element.cli.autocompleteCommand">
        function <span class="apidocSignatureSpan">cli.</span>autocompleteCommand
        <span class="apidocSignatureSpan">(command)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">autocompleteCommand = function (command) {
    var list;
    if (!(command_list instanceof Array)) {
        list = Object.keys(command_list);
    } else {
        list = command_list;
    }
    var i, j = 0, c = command.length, tmp_list;
    if (list.length === 0 || list.indexOf(command) !== -1) {
        return command;
    }
    for (i = 0; i &lt; c; i++) {
        tmp_list = [];
        l = list.length;
        if (l &lt;= 1) break;
        for (j = 0; j &lt; l; j++)
            if (list[j].length &gt;= i &amp;&amp; list[j][i] === command[i])
                tmp_list.push(list[j]);
        list = tmp_list;
    }
    l = list.length;
    if (l === 1) {
        return list[0];
    } else if (l === 0) {
        cli.fatal('Unknown command "' + command + '"' + (enable.help ? '. Please see --help for more information' : ''));
    } else {
        list.sort();
        cli.fatal('The command "' + command + '" is ambiguous and could mean "' + list.join('", "') + '"');
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
            if (enable.help) {
                cli.getUsage();
            } else {
                cli.fatal('A command is required (' + command_list.join(', ') + ').');
            }
            return cli.exit(1);
        } else {
            cli.command = cli.<span class="apidocCodeKeywordSpan">autocompleteCommand</span>(cli.args.shift());
        }
    }
    cli.argc = cli.args.length;
    return parsed;
};

/**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.createServer" id="apidoc.element.cli.createServer">
        function <span class="apidocSignatureSpan">cli.</span>createServer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createServer = function () {
    var defaultStackErrorHandler = function (req, res, err) {
        if (err) {
            console.error(err.stack);
            res.writeHead(500, {"Content-Type": "text/plain"});
            return res.end(err.stack + "\n");
        }
        res.writeHead(404, {"Content-Type": "text/plain"});
        res.end("Not Found\n");
    };
    var handle, error;
    handle = error = defaultStackErrorHandler;
    var layers = Array.prototype.slice.call(arguments);

    //Allow createServer(a,b,c) and createServer([a,b,c])
    if (layers.length &amp;&amp; layers[0] instanceof Array) {
        layers = layers[0];
    }
    layers.reverse().forEach(function (layer) {
        var child = handle;
        handle = function (req, res) {
            try {
                layer(req, res, function (err) {
                    if (err) return error(req, res, err);
                    child(req, res);
                });
            } catch (err) {
                error(req, res, err);
            }
        };
    });
    return cli.native.http.createServer(handle);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

/**
 * Bind creationix's stack (https://github.com/creationix/stack).
 *
 * Create a simple middleware stack by calling:
 *
 *     cli.<span class="apidocCodeKeywordSpan">createServer</span>(middleware).listen(port);
 *
 * @return {Server} server
 * @api public
 */
cli.createServer = function(/*layers*/) {
var defaultStackErrorHandler = function (req, res, err) {
    if (err) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.debug" id="apidoc.element.cli.debug">
        function <span class="apidocSignatureSpan">cli.</span>debug
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">debug = function (msg) {
    cli.status(msg, type);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
To set your own app name and version, use `cli.setApp(app_name, version)`

**status**

Adds options to show/hide the stylized status messages that are output to the console when using one of these methods

```javascript
cli.<span class="apidocCodeKeywordSpan">debug</span>(msg);  //Only shown when using --debug
cli.error(msg);
cli.fatal(msg);  //Exits the process after outputting msg
cli.info(msg);
cli.ok(msg);
```

`-k,--no-color` will omit ANSI color escapes from the output
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.disable" id="apidoc.element.cli.disable">
        function <span class="apidocSignatureSpan">cli.</span>disable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">disable = function () {
    Array.prototype.slice.call(arguments).forEach(function (plugin) {
        if (enable[plugin]) {
            enable[plugin] = false;
        }
    });
    return cli;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
cli.no_color = true;
}

/**
 * Define plugins. Plugins can be enabled and disabled by calling:
 *
 *     `cli.enable(plugin1, [plugin2, ...])`
 *     `cli.<span class="apidocCodeKeywordSpan">disable</span>(plugin1, [plugin2, ...])`
 *
 * Methods are chainable - `cli.enable(plugin).disable(plugin2)`.
 *
 * The 'help' plugin is enabled by default.
 */
var enable = {
help: true,      //Adds -h, --help
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.enable" id="apidoc.element.cli.enable">
        function <span class="apidocSignatureSpan">cli.</span>enable
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">enable = function () {
    Array.prototype.slice.call(arguments).forEach(function (plugin) {
        switch (plugin) {
        case 'catchall':
            process.on('uncaughtException', function (err) {
                cli.error('Uncaught exception: ' + (err.msg || err));
            });
            break;
        case 'help': case 'version': case 'status':
        case 'autocomplete': case 'timeout':
            //Just add switches.
            break;
        case 'glob':
            cli.glob = require('glob');
            break;
        default:
            cli.fatal('Unknown plugin "' + plugin + '"');
            break;
        }
        enable[plugin] = true;
    });
    return cli;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
cli also comes bundled with kof's [node-natives](https://github.com/kof/node-natives) (access with cli.native) and creationix
' [stack](https://github.com/creationix/stack) (access with cli.createServer)

## Plugins

Plugins are a way of adding common opts and can be enabled using

```javascript
cli.<span class="apidocCodeKeywordSpan">enable</span>(plugin1, [plugin2, ...]);  //To disable, use the equivalent disable() method
```

**help** - *enabled by default*

Adds `-h,--help` to output auto-generated usage information

**version**
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.error" id="apidoc.element.cli.error">
        function <span class="apidocSignatureSpan">cli.</span>error
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (msg) {
    cli.status(msg, type);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

**status**

Adds options to show/hide the stylized status messages that are output to the console when using one of these methods

```javascript
cli.debug(msg);  //Only shown when using --debug
cli.<span class="apidocCodeKeywordSpan">error</span>(msg);
cli.fatal(msg);  //Exits the process after outputting msg
cli.info(msg);
cli.ok(msg);
```

`-k,--no-color` will omit ANSI color escapes from the output
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.exec" id="apidoc.element.cli.exec">
        function <span class="apidocSignatureSpan">cli.</span>exec
        <span class="apidocSignatureSpan">(cmd, callback, errback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">exec = function (cmd, callback, errback) {
    cli.native.child_process.exec(cmd, function (err, stdout, stderr) {
        err = err || stderr;
        if (err) {
            if (errback) {
                return errback(err, stdout);
            }
            return cli.fatal('exec() failed\n' + err);
        }
        if (callback) {
            callback(stdout.split('\n'));
        }
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```javascript
cli.progress(progress); //Where 0 &lt;= progress &lt;= 1
```

To spawn a child process, use

```javascript
cli.<span class="apidocCodeKeywordSpan">exec</span>(cmd, callback); //callback receives the output of the process (split into lines
)
```

cli also comes bundled with kof's [node-natives](https://github.com/kof/node-natives) (access with cli.native) and creationix
' [stack](https://github.com/creationix/stack) (access with cli.createServer)

## Plugins

Plugins are a way of adding common opts and can be enabled using
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.exit" id="apidoc.element.cli.exit">
        function <span class="apidocSignatureSpan">cli.</span>exit
        <span class="apidocSignatureSpan">(exitCode, streams)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function exit(exitCode, streams) {
  if (!streams) { streams = [process.stdout, process.stderr]; }
  var drainCount = 0;
  // Actually exit if all streams are drained.
  function tryToExit() {
    if (drainCount === streams.length) {
      process.exit(exitCode);
    }
  }
  streams.forEach(function(stream) {
    // Count drained streams now, but monitor non-drained streams.
    if (stream.bufferSize === 0) {
      drainCount++;
    } else {
      stream.write('', 'utf-8', function() {
        drainCount++;
        tryToExit();
      });
    }
    // Prevent further writing.
    stream.write = function() {};
  });
  // If all streams were already drained, exit now.
  tryToExit();
  // In Windows, when run as a Node.js child process, a script utilizing
  // this library might just exit with a 0 exit code, regardless. This code,
  // despite the fact that it looks a bit crazy, appears to fix that.
  process.on('exit', function() {
    process.exit(exitCode);
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (enable.help &amp;&amp; (o === 'h' || o === 'help')) {
    cli.getUsage();
} else if (enable.version &amp;&amp; (o === 'v' || o === 'version')) {
    if (cli.version == null) {
        cli.parsePackageJson();
    }
    console.error(cli.app + ' v' + cli.version);
    cli.<span class="apidocCodeKeywordSpan">exit</span>();
    break;
} else if (enable.catchall &amp;&amp; (o === 'c' || o === 'catch')) {
    continue;
} else if (enable.status &amp;&amp; (o === 'k' || o === 'no-color')) {
    cli.no_color = (o === 'k' || o === 'no-color');
    continue;
} else if (enable.status &amp;&amp; (o === 'debug')) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.fatal" id="apidoc.element.cli.fatal">
        function <span class="apidocSignatureSpan">cli.</span>fatal
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fatal = function (msg) {
    cli.status(msg, type);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
**status**

Adds options to show/hide the stylized status messages that are output to the console when using one of these methods

```javascript
cli.debug(msg);  //Only shown when using --debug
cli.error(msg);
cli.<span class="apidocCodeKeywordSpan">fatal</span>(msg);  //Exits the process after outputting msg
cli.info(msg);
cli.ok(msg);
```

`-k,--no-color` will omit ANSI color escapes from the output

**glob**  - *requires* `npm install glob`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.getArrayValue" id="apidoc.element.cli.getArrayValue">
        function <span class="apidocSignatureSpan">cli.</span>getArrayValue
        <span class="apidocSignatureSpan">(arr, default_val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getArrayValue = function (arr, default_val) {
    return cli.getValue(default_val, function (value) {
        if (arr.indexOf(value) === -1) {
            throw 'Unexpected value';
        }
        return value;
    }, cli.getOptError('either [' + arr.join('|') + ']', 'VALUE'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}
if (opt_list[opt][2] instanceof Array) {
    for (i = 0, l = opt_list[opt][2].length; i &lt; l; i++) {
        if (typeof opt_list[opt][2][i] === 'number') {
            opt_list[opt][2][i] += '';
        }
    }
    parsed[opt] = cli.<span class="apidocCodeKeywordSpan">getArrayValue</span>(opt_list[opt][2], is_long ? null : default_val);
    break;
}
if (opt_list[opt][2].toLowerCase) {
    opt_list[opt][2] = opt_list[opt][2].toLowerCase();
}
switch (opt_list[opt][2]) {
case 'string': case 1: case true:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.getDate" id="apidoc.element.cli.getDate">
        function <span class="apidocSignatureSpan">cli.</span>getDate
        <span class="apidocSignatureSpan">(default_val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getDate = function (default_val) {

    return cli.getValue(default_val, function (value) {
        if (cli.toType(value) === 'date') return value;
        value = new Date(value);
        if ( ! value.getTime() ) {
            throw value.toString();
        }

        return value;
    }, cli.getOptError('a date', 'DATE'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    break;
case 'int': case 'number': case 'num':
case 'time': case 'seconds': case 'secs': case 'minutes': case 'mins':
case 'x': case 'n':
    parsed[opt] = cli.getInt(default_val);
    break;
case 'date': case 'datetime': case 'date_time':
    parsed[opt] = cli.<span class="apidocCodeKeywordSpan">getDate</span>(default_val);
    break;
case 'float': case 'decimal':
    parsed[opt] = cli.getFloat(default_val);
    break;
case 'path': case 'file': case 'directory': case 'dir':
    parsed[opt] = cli.getPath(default_val, opt_list[opt][2]);
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.getEmail" id="apidoc.element.cli.getEmail">
        function <span class="apidocSignatureSpan">cli.</span>getEmail
        <span class="apidocSignatureSpan">(default_val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getEmail = function (default_val) {
    return cli.getValue(default_val, function (value) {
        if (!value.match(/^(?:[\w\!\#\$\%\&amp;\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&amp;\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a
-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)) {
            throw 'Invalid email';
        }
        return value;
    }, cli.getOptError('an email', 'EMAIL'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'float': case 'decimal':
    parsed[opt] = cli.getFloat(default_val);
    break;
case 'path': case 'file': case 'directory': case 'dir':
    parsed[opt] = cli.getPath(default_val, opt_list[opt][2]);
    break;
case 'email':
    parsed[opt] = cli.<span class="apidocCodeKeywordSpan">getEmail</span>(default_val);
    break;
case 'url': case 'uri': case 'domain': case 'host':
    parsed[opt] = cli.getUrl(default_val, opt_list[opt][2]);
    break;
case 'ip':
    parsed[opt] = cli.getIp(default_val);
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.getFloat" id="apidoc.element.cli.getFloat">
        function <span class="apidocSignatureSpan">cli.</span>getFloat
        <span class="apidocSignatureSpan">(default_val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getFloat = function (default_val) {
    return cli.getValue(default_val, function (value) {
        if (!value.match(/^(?:-?(?:0|[1-9][0-9]*))?(?:\.[0-9]*)?$/)) {
            throw 'Invalid float';
        }
        return parseFloat(value, 10);
    }, cli.getOptError('a number', 'NUMBER'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'x': case 'n':
    parsed[opt] = cli.getInt(default_val);
    break;
case 'date': case 'datetime': case 'date_time':
    parsed[opt] = cli.getDate(default_val);
    break;
case 'float': case 'decimal':
    parsed[opt] = cli.<span class="apidocCodeKeywordSpan">getFloat</span>(default_val);
    break;
case 'path': case 'file': case 'directory': case 'dir':
    parsed[opt] = cli.getPath(default_val, opt_list[opt][2]);
    break;
case 'email':
    parsed[opt] = cli.getEmail(default_val);
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.getInt" id="apidoc.element.cli.getInt">
        function <span class="apidocSignatureSpan">cli.</span>getInt
        <span class="apidocSignatureSpan">(default_val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getInt = function (default_val) {
    return cli.getValue(default_val, function (value) {
        if (typeof value === 'number') return value;
        if (!value.match(/^(?:-?(?:0|[1-9][0-9]*))$/)) {
            throw 'Invalid int';
        }
        return parseInt(value);
    }, cli.getOptError('a number', 'NUMBER'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
switch (opt_list[opt][2]) {
case 'string': case 1: case true:
    parsed[opt] = cli.getValue(default_val);
    break;
case 'int': case 'number': case 'num':
case 'time': case 'seconds': case 'secs': case 'minutes': case 'mins':
case 'x': case 'n':
    parsed[opt] = cli.<span class="apidocCodeKeywordSpan">getInt</span>(default_val);
    break;
case 'date': case 'datetime': case 'date_time':
    parsed[opt] = cli.getDate(default_val);
    break;
case 'float': case 'decimal':
    parsed[opt] = cli.getFloat(default_val);
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.getIp" id="apidoc.element.cli.getIp">
        function <span class="apidocSignatureSpan">cli.</span>getIp
        <span class="apidocSignatureSpan">(default_val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getIp = function (default_val) {
    return cli.getValue(default_val, function (value) {
        if (!value.match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/)) {
            throw 'Invalid IP';
        }
        return value;
    }, cli.getOptError('an IP', 'IP'));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'email':
    parsed[opt] = cli.getEmail(default_val);
    break;
case 'url': case 'uri': case 'domain': case 'host':
    parsed[opt] = cli.getUrl(default_val, opt_list[opt][2]);
    break;
case 'ip':
    parsed[opt] = cli.<span class="apidocCodeKeywordSpan">getIp</span>(default_val);
    break;
case 'bool': case 'boolean': case 'on':
    parsed[opt] = true;
    break;
case 'false': case 'off': case false: case 0:
    parsed[opt] = false;
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.getOptError" id="apidoc.element.cli.getOptError">
        function <span class="apidocSignatureSpan">cli.</span>getOptError
        <span class="apidocSignatureSpan">(expects, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getOptError = function (expects, type) {
    var err = full_opt + ' expects ' + expects
            + '. Use `' + cli.app + ' ' + full_opt + (is_long ? '=' : ' ') + type + '`';
    return err;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 *
 * @param {String} default_val
 * @param {Function} validate_func
 * @param {String} err_msg
 * @api public
 */
cli.getValue = function (default_val, validate_func, err_msg) {
err_msg = err_msg || cli.<span class="apidocCodeKeywordSpan">getOptError</span>('a value', 'VALUE');

var value;

try {
    if (curr_val) {
        if (validate_func) {
            curr_val = validate_func(curr_val);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.getPath" id="apidoc.element.cli.getPath">
        function <span class="apidocSignatureSpan">cli.</span>getPath
        <span class="apidocSignatureSpan">(default_val, identifier)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getPath = function (default_val, identifier) {
    identifier = identifier || 'path';
    return cli.getValue(default_val, function (value) {
        if (value.match(/[?*;{}]/)) {
            throw 'Invalid path';
        }
        return value;
    }, cli.getOptError('a ' + identifier, identifier.toUpperCase()));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'date': case 'datetime': case 'date_time':
    parsed[opt] = cli.getDate(default_val);
    break;
case 'float': case 'decimal':
    parsed[opt] = cli.getFloat(default_val);
    break;
case 'path': case 'file': case 'directory': case 'dir':
    parsed[opt] = cli.<span class="apidocCodeKeywordSpan">getPath</span>(default_val, opt_list[opt][2]);
    break;
case 'email':
    parsed[opt] = cli.getEmail(default_val);
    break;
case 'url': case 'uri': case 'domain': case 'host':
    parsed[opt] = cli.getUrl(default_val, opt_list[opt][2]);
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.getUrl" id="apidoc.element.cli.getUrl">
        function <span class="apidocSignatureSpan">cli.</span>getUrl
        <span class="apidocSignatureSpan">(default_val, identifier)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getUrl = function (default_val, identifier) {
    identifier = identifier || 'url';
    return cli.getValue(default_val, function (value) {
        if (!value.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|net|gov|mil|biz|info
|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2})?)|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&amp;(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/i)) {
            throw 'Invalid URL';
        }
        return value;
    }, cli.getOptError('a ' + identifier, identifier.toUpperCase()));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
case 'path': case 'file': case 'directory': case 'dir':
    parsed[opt] = cli.getPath(default_val, opt_list[opt][2]);
    break;
case 'email':
    parsed[opt] = cli.getEmail(default_val);
    break;
case 'url': case 'uri': case 'domain': case 'host':
    parsed[opt] = cli.<span class="apidocCodeKeywordSpan">getUrl</span>(default_val, opt_list[opt][2]);
    break;
case 'ip':
    parsed[opt] = cli.getIp(default_val);
    break;
case 'bool': case 'boolean': case 'on':
    parsed[opt] = true;
    break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.getUsage" id="apidoc.element.cli.getUsage">
        function <span class="apidocSignatureSpan">cli.</span>getUsage
        <span class="apidocSignatureSpan">(code)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getUsage = function (code) {
    var short, desc, optional, line, seen_opts = [],
        switch_pad = cli.option_width;

    var trunc_desc = function (pref, desc, len) {
        var pref_len = pref.length,
            desc_len = cli.width - pref_len,
            truncated = '';
        if (desc.length &lt;= desc_len) {
            return desc;
        }
        var desc_words = (desc+'').split(' '), chars = 0, word;
        while (desc_words.length) {
            truncated += (word = desc_words.shift()) + ' ';
            chars += word.length;
            if (desc_words.length &amp;&amp; chars + desc_words[0].length &gt; desc_len) {
                truncated += '\n' + pad(pref_len);
                chars = 0;
            }
        }
        return truncated;
    };

    usage = usage || cli.app + ' [OPTIONS]' + (command_list.length ? ' &lt;command&gt;' : '') + ' [ARGS]';
    if (cli.no_color) {
        console.error('Usage:\n  ' + usage);
        console.error('Options: ');
    } else {
        console.error('\x1b[1mUsage\x1b[0m:\n  ' + usage);
        console.error('\n\x1b[1mOptions\x1b[0m: ');
    }
    for (var opt in opt_list) {

        if (opt.length === 1) {
            long = opt_list[opt][0];
            short = opt;
        } else {
            long = opt;
            short = opt_list[opt][0];
        }

        //Parse opt_list
        desc = opt_list[opt][1].trim();
        type = opt_list[opt].length &gt;= 3 ? opt_list[opt][2] : null;
        optional = opt_list[opt].length === 4 ? opt_list[opt][3] : null;

        //Build usage line
        if (short === long) {
            if (short.length === 1) {
                line = '  -' + short;
            } else {
                line = '      --' + long;
            }
        } else if (short) {
            line = '  -' + short + ', --' + long;
        } else {
            line = '      --' + long;
        }
        line += ' ';

        if (type) {
            if (type instanceof Array) {
                desc += '. VALUE must be either [' + type.join('|') + ']';
                type = 'VALUE';
            }
            if (type === true || type === 1) {
                type = long.toUpperCase();
            }
            type = type.toUpperCase();
            if (type === 'FLOAT' || type === 'INT') {
                type = 'NUMBER';
            }
            line += optional ? '[' + type + ']' : type;
        }
        line = pad(line, switch_pad);
        line += trunc_desc(line, desc);
        line += optional ? ' (Default is ' + optional + ')' : '';
        console.error(line.replace('%s', '%\0s'));

        seen_opts.push(short);
        seen_opts.push(long);
    }
    if (enable.timeout &amp;&amp; seen_opts.indexOf('t') === -1 &amp;&amp; seen_opts.indexOf('timeout') === -1) {
        console.error(pad('  -t, --timeout N', switch_pad) + 'Exit if the process takes longer than N seconds');
    }
    if (enable.status) {
        if (seen_opts.indexOf('k') === -1 &amp;&amp; seen_opts.indexOf('no-color') === -1) {
            console.error(pad('  -k, --no-color', switch_pad) + 'Omit color from output');
        }
        if (seen_opts.indexOf('debug') === -1) {
            console.error(pad('      --debug', switch_pad) + 'Show debug information');
        }
    }
    if (enable.catchall &amp;&amp; seen_opts.indexOf('c') === -1 &amp;&amp; seen_opts.indexOf('catch') === -1) {
        console.error(pad('  -c, --catch', switch_pad) + 'Catch unanticipated errors');
    }
    if (enable.version &amp;&amp; seen_opts.indexOf('v') === -1 &amp;&amp; seen_opts.indexOf('version') === -1) {
        console.error(pad('  -v, --version', switch_pad) + 'Display the current version');
    }
    if (enable.help &amp;&amp; seen_opts.indexOf('h') === -1 &amp;&amp; seen_opts.indexOf('help') === -1) {
        console.error(pad('  -h, --help', switch_pad) + 'Display help and usage details');
    }
    if (command_list.length) {
        console.error('\n\x1b[1mCommands\x1b[0m: ');
        if (!Array.isArray(commands)) {
            for (var c in commands) {
                line = '  ' + pad(c, switch_pad - 2);
                line += trunc_desc(line, commands[c]);
                console.e ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
             cli.fatal('Unknown opt type "' + opt_list[opt][2] + '"');
        }
        break;
    }
}
if (!seen) {
    if (enable.help &amp;&amp; (o === 'h' || o === 'help')) {
        cli.<span class="apidocCodeKeywordSpan">getUsage</span>();
    } else if (enable.version &amp;&amp; (o === 'v' || o === 'version')) {
        if (cli.version == null) {
            cli.parsePackageJson();
        }
        console.error(cli.app + ' v' + cli.version);
        cli.exit();
        break;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.getValue" id="apidoc.element.cli.getValue">
        function <span class="apidocSignatureSpan">cli.</span>getValue
        <span class="apidocSignatureSpan">(default_val, validate_func, err_msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getValue = function (default_val, validate_func, err_msg) {
    err_msg = err_msg || cli.getOptError('a value', 'VALUE');

    var value;

    try {
        if (curr_val) {
            if (validate_func) {
                curr_val = validate_func(curr_val);
            }
            return curr_val;
        }

        //Grouped short opts aren't allowed to have values
        if (short_tags.length) {
            throw 'Short tags';
        }

        //If there's no args left or the next arg is an opt, return the
        //default value (if specified) - otherwise fail
        if (!argv.length || (argv[0].length === 1 &amp;&amp; argv[0][0] === '-')) {
            throw 'No value';
        }

        value = argv.shift();

        if (value.match(/^[0-9]+$/)) {
            value = parseInt(value, 10);
        }

        //Run the value through a validation/transformation function if specified
        if (validate_func) {
            value = validate_func(value);
        }
    } catch (e) {

        //The value didn't pass the validation/transformation. Unshift the value and
        //return the default value (if specified)
        if (value) {
            argv.unshift(value);
        }
        return default_val != null ? default_val : cli.fatal(err_msg);
    }
    return value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    break;
}
if (opt_list[opt][2].toLowerCase) {
    opt_list[opt][2] = opt_list[opt][2].toLowerCase();
}
switch (opt_list[opt][2]) {
case 'string': case 1: case true:
    parsed[opt] = cli.<span class="apidocCodeKeywordSpan">getValue</span>(default_val);
    break;
case 'int': case 'number': case 'num':
case 'time': case 'seconds': case 'secs': case 'minutes': case 'mins':
case 'x': case 'n':
    parsed[opt] = cli.getInt(default_val);
    break;
case 'date': case 'datetime': case 'date_time':
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.info" id="apidoc.element.cli.info">
        function <span class="apidocSignatureSpan">cli.</span>info
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">info = function (msg) {
    cli.status(msg, type);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Adds options to show/hide the stylized status messages that are output to the console when using one of these methods

```javascript
cli.debug(msg);  //Only shown when using --debug
cli.error(msg);
cli.fatal(msg);  //Exits the process after outputting msg
cli.<span class="apidocCodeKeywordSpan">info</span>(msg);
cli.ok(msg);
```

`-k,--no-color` will omit ANSI color escapes from the output

**glob**  - *requires* `npm install glob`
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.main" id="apidoc.element.cli.main">
        function <span class="apidocSignatureSpan">cli.</span>main
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">main = function (callback) {
    callback.call(cli, cli.args, cli.options);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert" id="apidoc.element.cli.native.assert">
        function <span class="apidocSignatureSpan">cli.</span>native.assert
        <span class="apidocSignatureSpan">(value, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ok(value, message) {
  if (!value) fail(value, true, message, '==', assert.ok);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.next" id="apidoc.element.cli.next">
        function <span class="apidocSignatureSpan">cli.</span>next
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">next = function () {
    if (!argv_parsed) {
        cli.args = [];
        argv_parsed = true;
    }

    curr_val = null;

    //If we're currently in a group of short opts (e.g. -abc), return the next opt
    if (short_tags.length) {
        curr_opt = short_tags.shift();
        full_opt = '-' + curr_opt;
        return curr_opt;
    }

    if (!argv.length) {
        return false;
    }

    curr_opt = argv.shift();

    //If an escape sequence is found (- or --), subsequent opts are ignored
    if (curr_opt === '-' || curr_opt === '--') {
        while (argv.length) {
            cli.args.push(argv.shift());
        }
        return false;
    }

    //If the next element in argv isn't an opt, add it to the list of args
    if (curr_opt[0] !== '-') {
        cli.args.push(curr_opt);
        return cli.next();
    } else {
        //Check if the opt is short/long
        is_long = curr_opt[1] === '-';
        curr_opt = curr_opt.substr(is_long ? 2 : 1);
    }

    //Accept grouped short opts, e.g. -abc =&gt; -a -b -c
    if (!is_long &amp;&amp; curr_opt.length &gt; 1) {
        short_tags = curr_opt.split('');
        return cli.next();
    }

    var eq, len;

    //Check if the long opt is in the form --option=VALUE
    if (is_long &amp;&amp; (eq = curr_opt.indexOf('=')) &gt;= 0) {
        curr_val = curr_opt.substr(eq + 1);
        curr_opt = curr_opt.substr(0, eq);
        len = curr_val.length;
        //Allow values to be quoted
        if ((curr_val[0] === '"' &amp;&amp; curr_val[len - 1] === '"') ||
            (curr_val[0] === "'" &amp;&amp; curr_val[len - 1] === "'"))
        {
            curr_val = curr_val.substr(1, len-2);
        }
        if (curr_val.match(/^[0-9]+$/)) {
            curr_val = parseInt(curr_val, 10);
        }
    }

    //Save the opt representation for later
    full_opt = (is_long ? '--' : '-') + curr_opt;

    return curr_opt;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
    return false;
}

//If the next element in argv isn't an opt, add it to the list of args
if (curr_opt[0] !== '-') {
    cli.args.push(curr_opt);
    return cli.<span class="apidocCodeKeywordSpan">next</span>();
} else {
    //Check if the opt is short/long
    is_long = curr_opt[1] === '-';
    curr_opt = curr_opt.substr(is_long ? 2 : 1);
}

//Accept grouped short opts, e.g. -abc =&gt; -a -b -c
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.ok" id="apidoc.element.cli.ok">
        function <span class="apidocSignatureSpan">cli.</span>ok
        <span class="apidocSignatureSpan">(msg)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ok = function (msg) {
    cli.status(msg, type);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Adds options to show/hide the stylized status messages that are output to the console when using one of these methods

```javascript
cli.debug(msg);  //Only shown when using --debug
cli.error(msg);
cli.fatal(msg);  //Exits the process after outputting msg
cli.info(msg);
cli.<span class="apidocCodeKeywordSpan">ok</span>(msg);
```

`-k,--no-color` will omit ANSI color escapes from the output

**glob**  - *requires* `npm install glob`

Enables glob matching of arguments
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.output" id="apidoc.element.cli.output">
        function <span class="apidocSignatureSpan">cli.</span>output
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">output = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Example apps

### sort.js

```javascript
#!/usr/bin/env node
require('cli').withStdinLines(function(lines, newline) {
    this.<span class="apidocCodeKeywordSpan">output</span>(lines.sort().join(newline));
});
```

Try it out

```bash
$ ./sort.js &lt; input.txt
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.parse" id="apidoc.element.cli.parse">
        function <span class="apidocSignatureSpan">cli.</span>parse
        <span class="apidocSignatureSpan">(opts, command_def)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (opts, command_def) {
    var default_val, i, o, parsed = cli.options, seen,
        catch_all = !opts;
    opt_list = opts || {};
    commands = command_def;
    command_list = commands || [];
    if (commands &amp;&amp; !Array.isArray(commands)) {
        command_list = Object.keys(commands);
    }
    while ((o = cli.next())) {
        seen = false;
        for (var opt in opt_list) {
            if (!(opt_list[opt] instanceof Array)) {
                continue;
            }
            if (!opt_list[opt][0]) {
                opt_list[opt][0] = opt;
            }
            if (o === opt || o === opt_list[opt][0]) {
                seen = true;
                if (opt_list[opt].length === 2) {
                    parsed[opt] = true;
                    break;
                }
                default_val = null;
                if (opt_list[opt].length === 4) {
                    default_val = opt_list[opt][3];
                }
                if (opt_list[opt][2] instanceof Array) {
                    for (i = 0, l = opt_list[opt][2].length; i &lt; l; i++) {
                        if (typeof opt_list[opt][2][i] === 'number') {
                            opt_list[opt][2][i] += '';
                        }
                    }
                    parsed[opt] = cli.getArrayValue(opt_list[opt][2], is_long ? null : default_val);
                    break;
                }
                if (opt_list[opt][2].toLowerCase) {
                    opt_list[opt][2] = opt_list[opt][2].toLowerCase();
                }
                switch (opt_list[opt][2]) {
                case 'string': case 1: case true:
                    parsed[opt] = cli.getValue(default_val);
                    break;
                case 'int': case 'number': case 'num':
                case 'time': case 'seconds': case 'secs': case 'minutes': case 'mins':
                case 'x': case 'n':
                    parsed[opt] = cli.getInt(default_val);
                    break;
                case 'date': case 'datetime': case 'date_time':
                    parsed[opt] = cli.getDate(default_val);
                    break;
                case 'float': case 'decimal':
                    parsed[opt] = cli.getFloat(default_val);
                    break;
                case 'path': case 'file': case 'directory': case 'dir':
                    parsed[opt] = cli.getPath(default_val, opt_list[opt][2]);
                    break;
                case 'email':
                    parsed[opt] = cli.getEmail(default_val);
                    break;
                case 'url': case 'uri': case 'domain': case 'host':
                    parsed[opt] = cli.getUrl(default_val, opt_list[opt][2]);
                    break;
                case 'ip':
                    parsed[opt] = cli.getIp(default_val);
                    break;
                case 'bool': case 'boolean': case 'on':
                    parsed[opt] = true;
                    break;
                case 'false': case 'off': case false: case 0:
                    parsed[opt] = false;
                    break;
                default:
                     cli.fatal('Unknown opt type "' + opt_list[opt][2] + '"');
                }
                break;
            }
        }
        if (!seen) {
            if (enable.help &amp;&amp; (o === 'h' || o === 'help')) {
                cli.getUsage();
            } else if (enable.version &amp;&amp; (o === 'v' || o === 'version')) {
                if (cli.version == null) {
                    cli.parsePackageJson();
                }
                console.error(cli.app + ' v' + cli.version);
                cli.exit();
                break;
            } else if (enable.catchall &amp;&amp; (o === 'c' || o === 'catch')) {
                continue;
            } else if (enable.status &amp;&amp; (o === 'k' || o === 'no-color')) {
                cli.no_color = (o === 'k' || o === 'no-color');
                continue;
            } else if (enable.status &amp;&amp; (o === 'debug')) {
                show_debug = o === 'debug';
                continue;
            } else ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```bash
$ ./sort.js &lt; input.txt
```

Let's add support for an `-n` switch to use a numeric sort, and a `-r` switch to reverse output - only 5 extra lines of code
 (!)

```javascript
var cli = require('cli'), options = cli.<span class="apidocCodeKeywordSpan">parse</span>();

cli.withStdinLines(function(lines, newline) {
lines.sort(!options.n ? null : function(a, b) {
    return parseInt(a) &gt; parseInt(b);
});
if (options.r) lines.reverse();
this.output(lines.join(newline));
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.parsePackageJson" id="apidoc.element.cli.parsePackageJson">
        function <span class="apidocSignatureSpan">cli.</span>parsePackageJson
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parsePackageJson = function (path) {
    var parse_packagejson = function (path) {
        var packagejson = JSON.parse(cli.native.fs.readFileSync(path, 'utf8'));
        cli.version = packagejson.version;
        cli.app = packagejson.name;
    };
    var try_all = function (arr, func, err) {
        for (var i = 0, l = arr.length; i &lt; l; i++) {
            try {
                func(arr[i]);
                return;
            } catch (e) {
                if (i === l-1) {
                    cli.fatal(err);
                }
            }
        }
    };
    try {
        if (path) {
            return parse_packagejson(path);
        }
        try_all([
            __dirname + '/package.json',
            __dirname + '/../package.json',
            __dirname + '/../../package.json'
        ], parse_packagejson);
    } catch (e) {
        cli.fatal('Could not detect ' + cli.app + ' version');
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    }
}
if (!seen) {
    if (enable.help &amp;&amp; (o === 'h' || o === 'help')) {
        cli.getUsage();
    } else if (enable.version &amp;&amp; (o === 'v' || o === 'version')) {
        if (cli.version == null) {
            cli.<span class="apidocCodeKeywordSpan">parsePackageJson</span>();
        }
        console.error(cli.app + ' v' + cli.version);
        cli.exit();
        break;
    } else if (enable.catchall &amp;&amp; (o === 'c' || o === 'catch')) {
        continue;
    } else if (enable.status &amp;&amp; (o === 'k' || o === 'no-color')) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.progress" id="apidoc.element.cli.progress">
        function <span class="apidocSignatureSpan">cli.</span>progress
        <span class="apidocSignatureSpan">(progress, decimals, stream)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">progress = function (progress, decimals, stream) {
    stream = stream || process.stdout;
    if (progress &lt; 0 || progress &gt; 1 || isNaN(progress)) return;
    if (!decimals) decimals = 0;
    var now = (new Date()).getTime();
    if (last_progress_call &amp;&amp; (now - last_progress_call) &lt; 100 &amp;&amp; progress !== 1) {
        return; //Throttle progress calls
    }
    last_progress_call = now;

    var pwr = Math.pow(10, decimals);
    var percentage_as_num = Math.floor(progress * 100 * pwr) / pwr;
    if (!stream.isTTY &amp;&amp; percentage_as_num &lt; 100 &amp;&amp; percentage_as_num - last_progress_percentage &lt; min_progress_increase) {
        return; //don't over-print if not TTY
    }
    last_progress_percentage = percentage_as_num;
    var percentage = percentage_as_num + '%';
    for (var i = 0; i &lt; decimals; i++) {
        percentage += ' ';
    }
    if (!stream.isTTY) {
        if (percentage_as_num &lt; 100) {
            stream.write(percentage + '...');
        }
        else {
            stream.write(percentage + '\n');
            last_progress_percentage = 0;
        }
        return;
    }
    var bar_length = Math.floor(progress_len * progress),
        str       = '';
    if (bar_length == 0 &amp;&amp; progress &gt; 0) {
        bar_length = 1;
    }
    for (i = 1; i &lt;= progress_len; i++) {
        str += i &lt;= bar_length ? '#' : ' ';
    }
    stream.clearLine();
    stream.write('[' + str + '] ' +  percentage);
    if (progress === 1) {
        stream.write('\n');
    } else {
        stream.cursorTo(0);
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
cli.toType(/a/);              // 'regex'
cli.toType(JSON);             // 'json'
```

To output a progress bar, call

```javascript
cli.<span class="apidocCodeKeywordSpan">progress</span>(progress); //Where 0 &lt;= progress &lt;= 1
```

To spawn a child process, use

```javascript
cli.exec(cmd, callback); //callback receives the output of the process (split into lines)
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.setApp" id="apidoc.element.cli.setApp">
        function <span class="apidocSignatureSpan">cli.</span>setApp
        <span class="apidocSignatureSpan">(name, version)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setApp = function (name, version) {
    if (name.indexOf('package.json') !== -1) {
        cli.parsePackageJson(name);
    } else {
        cli.app = name;
        cli.version = version;
    }
    return cli;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Adds `-h,--help` to output auto-generated usage information

**version**

Adds `-v,--version` to output version information for the app. cli will attempt to locate and parse a nearby *package.json*

To set your own app name and version, use `cli.<span class="apidocCodeKeywordSpan">setApp</span>(app_name, version)`

**status**

Adds options to show/hide the stylized status messages that are output to the console when using one of these methods

```javascript
cli.debug(msg);  //Only shown when using --debug
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.setArgv" id="apidoc.element.cli.setArgv">
        function <span class="apidocSignatureSpan">cli.</span>setArgv
        <span class="apidocSignatureSpan">(arr, keep_arg0)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setArgv = function (arr, keep_arg0) {
    if (typeof arr == 'string') {
      arr = arr.split(' ');
    } else {
      arr = arr.slice();
    }
    cli.app = arr.shift();
    // Strip off argv[0] if it's a node binary
    // So this is still broken and will break if you are calling node through a
    // symlink, unless you are lucky enough to have it as 'node' literal. Latter
    // is a hack, but resolving abspaths/symlinks is an unportable can of worms.
    if (!keep_arg0 &amp;&amp; (['node', 'node.exe'].indexOf(cli.native.path.basename(cli.app)) !== -1
            || cli.native.path.basename(process.execPath) === cli.app
            || process.execPath === cli.app)) {
        cli.app = arr.shift();
    }
    cli.app = cli.native.path.basename(cli.app);
    argv_parsed = false;
    cli.args = cli.argv = argv = arr;
    cli.argc = argv.length;
    cli.options = {};
    cli.command = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   cli.app = cli.native.path.basename(cli.app);
   argv_parsed = false;
   cli.args = cli.argv = argv = arr;
   cli.argc = argv.length;
   cli.options = {};
   cli.command = null;
};
cli.<span class="apidocCodeKeywordSpan">setArgv</span>(process.argv);

/**
* Returns the next opt, or false if no opts are found.
*
* @return {String} opt
* @api public
*/
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.setUsage" id="apidoc.element.cli.setUsage">
        function <span class="apidocSignatureSpan">cli.</span>setUsage
        <span class="apidocSignatureSpan">(u)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setUsage = function (u) {
    usage = u;
    return cli;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.spinner" id="apidoc.element.cli.spinner">
        function <span class="apidocSignatureSpan">cli.</span>spinner
        <span class="apidocSignatureSpan">(prefix, end, stream)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">spinner = function (prefix, end, stream) {
    stream = stream || process.stdout;
    if(!stream.isTTY) {
        stream.write(prefix + '\n');
        return;
    }
    if (end) {
        stream.clearLine();
        stream.cursorTo(0);
        stream.write(prefix + '\n');
        return clearInterval(spinner_interval);
    }
    prefix = prefix + ' ' || '';
    var spinner = ['-','\\','|','/'], i = 0, l = spinner.length;
    spinner_interval = setInterval(function () {
        stream.clearLine();
        stream.cursorTo(0);
        stream.write(prefix + spinner[i++]);
        if (i == l) i = 0;
    }, 200);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.status" id="apidoc.element.cli.status">
        function <span class="apidocSignatureSpan">cli.</span>status
        <span class="apidocSignatureSpan">(msg, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">status = function (msg, type) {
    var pre;
    switch (type) {
    case 'info':
        pre = cli.no_color ? 'INFO:' : '\x1B[33mINFO\x1B[0m:';
        break;
    case 'debug':
        pre = cli.no_color ? 'DEBUG:' : '\x1B[36mDEBUG\x1B[0m:';
        break;
    case 'error':
    case 'fatal':
        pre = cli.no_color ? 'ERROR:' : '\x1B[31mERROR\x1B[0m:';
        break;
    case 'ok':
        pre = cli.no_color ? 'OK:' : '\x1B[32mOK\x1B[0m:';
        break;
    }
    msg = pre + ' ' + msg;
    if (type === 'fatal') {
        console.error(msg);
        return cli.exit(1);
    }
    if (enable.status &amp;&amp; !show_debug &amp;&amp; type === 'debug') {
        return;
    }
    console.error(msg);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
   if (enable.status &amp;&amp; !show_debug &amp;&amp; type === 'debug') {
       return;
   }
   console.error(msg);
};
['info','error','ok','debug','fatal'].forEach(function (type) {
   cli[type] = function (msg) {
       cli.<span class="apidocCodeKeywordSpan">status</span>(msg, type);
   };
});

/**
* Sets the app name and version.
*
* Usage:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.toType" id="apidoc.element.cli.toType">
        function <span class="apidocSignatureSpan">cli.</span>toType
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toType = function (obj) {
    var type = ({}).toString.call(obj).match(/\s([a-zA-Z]+)/)[1].toLowerCase();

    function isInt(n) {
        return Number(n) === n &amp;&amp; n % 1 === 0;
    }

    function isFloat(n){
        return n === Number(n) &amp;&amp; n % 1 !== 0;
    }

    if ( type === 'number' ) {
        if ( isInt(obj) ) {
            return 'integer';
        } else if ( isFloat(obj) ) {
            return 'float';
        }
    }

    return type;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        this.output(line + newline);
    }
});
```
*Note: `file` can be omitted if you want to work with stdin*

```javascript
//cli.<span class="apidocCodeKeywordSpan">toType</span>(object);         If a Built-in type, returns the name of the type as a lower
 cased String
cli.toType([]);               // 'array'
cli.toType(new Date());       // 'date'
cli.toType(1);                // 'integer'
cli.toType(1.1);              // 'float'
cli.toType(Math);             // 'math'
cli.toType(/a/);              // 'regex'
cli.toType(JSON);             // 'json'
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.withInput" id="apidoc.element.cli.withInput">
        function <span class="apidocSignatureSpan">cli.</span>withInput
        <span class="apidocSignatureSpan">(file, encoding, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">withInput = function (file, encoding, callback) {
    if (typeof encoding === 'function') {
        callback = encoding;
        encoding = 'utf8';
    } else if (typeof file === 'function') {
        callback = file;
        encoding = 'utf8';
        file = 'stdin';
    }
    if (file === 'stdin') {
        file = process.openStdin();
    } else {
        try {
            file = cli.native.fs.createReadStream(file);
            file.on('error', cli.fatal);
        } catch (e) {
            return cli.fatal(e);
        }
    }
    file.setEncoding(encoding);
    var lines = [], data = '', eof, sep;
    file.on('data', function (chunk) {
        if (eof) return;
        data += chunk;
        if (!sep) {
            if (data.indexOf('\r\n') !== -1) {
                sep = '\r\n';
            } else if (data.indexOf('\n') !== -1) {
                sep = '\n';
            } else {
                last_line = data;
                return;
            }
        }
        lines = data.split(sep);
        data = eof ? null : lines.pop();
        while (lines.length) {
            callback.apply(cli, [lines.shift(), sep, false]);
        }
    });
    file.on('end', function () {
        eof = true;
        if (data.length) {
            callback.apply(cli, [data, sep || '', false]);
        }
        callback.apply(cli, [null, null, true]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
cli.withStdin(callback);        //callback receives stdin as a string
cli.withStdinLines(callback);   //callback receives stdin split into an array of lines (lines, newline)
```

cli also has a lower level method for working with input line by line (see [./examples/cat.js](https://github.com/chriso/cli/blob
/master/examples/cat.js) for an example).

```javascript
cli.<span class="apidocCodeKeywordSpan">withInput</span>(file, function (line, newline, eof) {
    if (!eof) {
        this.output(line + newline);
    }
});
```
*Note: `file` can be omitted if you want to work with stdin*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.withStdin" id="apidoc.element.cli.withStdin">
        function <span class="apidocSignatureSpan">cli.</span>withStdin
        <span class="apidocSignatureSpan">(encoding, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">withStdin = function (encoding, callback) {
    if (typeof encoding === 'function') {
        callback = encoding;
        encoding = 'utf8';
    }
    var stream = process.openStdin(), data = '';
    stream.setEncoding(encoding);
    stream.on('data', function (chunk) {
        data += chunk;
    });
    stream.on('end', function () {
        callback.apply(cli, [data]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
4.	A default value for this option if one is not given on the command line

## Helper methods

cli has methods that collect stdin (newline is auto-detected as \n or \r\n)

```javascript
cli.<span class="apidocCodeKeywordSpan">withStdin</span>(callback);        //callback receives stdin as a string
cli.withStdinLines(callback);   //callback receives stdin split into an array of lines (lines, newline)
```

cli also has a lower level method for working with input line by line (see [./examples/cat.js](https://github.com/chriso/cli/blob
/master/examples/cat.js) for an example).

```javascript
cli.withInput(file, function (line, newline, eof) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.withStdinLines" id="apidoc.element.cli.withStdinLines">
        function <span class="apidocSignatureSpan">cli.</span>withStdinLines
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">withStdinLines = function (callback) {
    cli.withStdin(function (data) {
        var sep = data.indexOf('\r\n') !== -1 ? '\r\n' : '\n';
        callback.apply(cli, [data.split(sep), sep]);
    });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Example apps

### sort.js

```javascript
#!/usr/bin/env node
require('cli').<span class="apidocCodeKeywordSpan">withStdinLines</span>(function(lines, newline) {
    this.output(lines.sort().join(newline));
});
```

Try it out

```bash
...</pre></li>
    </ul>
























</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cli.native" id="apidoc.module.cli.native">module cli.native</a></h1>


    <h2>
        <a href="#apidoc.element.cli.native.assert" id="apidoc.element.cli.native.assert">
        function <span class="apidocSignatureSpan">cli.native.</span>assert
        <span class="apidocSignatureSpan">(value, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ok(value, message) {
  if (!value) fail(value, true, message, '==', assert.ok);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.module" id="apidoc.element.cli.native.module">
        function <span class="apidocSignatureSpan">cli.native.</span>module
        <span class="apidocSignatureSpan">(id, parent)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Module(id, parent) {
  this.id = id;
  this.exports = {};
  this.parent = parent;
  if (parent &amp;&amp; parent.children) {
    parent.children.push(this);
  }

  this.filename = null;
  this.loaded = false;
  this.children = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cli.native._linklist" id="apidoc.module.cli.native._linklist">module cli.native._linklist</a></h1>


    <h2>
        <a href="#apidoc.element.cli.native._linklist.append" id="apidoc.element.cli.native._linklist.append">
        function <span class="apidocSignatureSpan">cli.native._linklist.</span>append
        <span class="apidocSignatureSpan">(list, item)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function append(list, item) {
  if (item._idleNext || item._idlePrev) {
    remove(item);
  }

  // items are linked  with _idleNext -&gt; (older) and _idlePrev -&gt; (newer)
  // Note: This linkage (next being older) may seem counter-intuitive at first.
  item._idleNext = list._idleNext;
  item._idlePrev = list;

  // the list _idleNext points to tail (newest) and _idlePrev to head (oldest)
  list._idleNext._idlePrev = item;
  list._idleNext = item;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native._linklist.create" id="apidoc.element.cli.native._linklist.create">
        function <span class="apidocSignatureSpan">cli.native._linklist.</span>create
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function create() {
  const list = { _idleNext: null, _idlePrev: null };
  init(list);
  return list;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native._linklist.init" id="apidoc.element.cli.native._linklist.init">
        function <span class="apidocSignatureSpan">cli.native._linklist.</span>init
        <span class="apidocSignatureSpan">(list)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function init(list) {
  list._idleNext = list;
  list._idlePrev = list;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native._linklist.isEmpty" id="apidoc.element.cli.native._linklist.isEmpty">
        function <span class="apidocSignatureSpan">cli.native._linklist.</span>isEmpty
        <span class="apidocSignatureSpan">(list)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function isEmpty(list) {
  return list._idleNext === list;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native._linklist.peek" id="apidoc.element.cli.native._linklist.peek">
        function <span class="apidocSignatureSpan">cli.native._linklist.</span>peek
        <span class="apidocSignatureSpan">(list)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function peek(list) {
  if (list._idlePrev === list) return null;
  return list._idlePrev;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native._linklist.remove" id="apidoc.element.cli.native._linklist.remove">
        function <span class="apidocSignatureSpan">cli.native._linklist.</span>remove
        <span class="apidocSignatureSpan">(item)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(item) {
  if (item._idleNext) {
    item._idleNext._idlePrev = item._idlePrev;
  }

  if (item._idlePrev) {
    item._idlePrev._idleNext = item._idleNext;
  }

  item._idleNext = null;
  item._idlePrev = null;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native._linklist.shift" id="apidoc.element.cli.native._linklist.shift">
        function <span class="apidocSignatureSpan">cli.native._linklist.</span>shift
        <span class="apidocSignatureSpan">(list)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function shift(list) {
  const first = list._idlePrev;
  remove(first);
  return first;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 */
cli.setArgv = function (arr, keep_arg0) {
if (typeof arr == 'string') {
  arr = arr.split(' ');
} else {
  arr = arr.slice();
}
cli.app = arr.<span class="apidocCodeKeywordSpan">shift</span>();
// Strip off argv[0] if it's a node binary
// So this is still broken and will break if you are calling node through a
// symlink, unless you are lucky enough to have it as 'node' literal. Latter
// is a hack, but resolving abspaths/symlinks is an unportable can of worms.
if (!keep_arg0 &amp;&amp; (['node', 'node.exe'].indexOf(cli.native.path.basename(cli.app)) !== -1
        || cli.native.path.basename(process.execPath) === cli.app
        || process.execPath === cli.app)) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.cli.native.assert" id="apidoc.module.cli.native.assert">module cli.native.assert</a></h1>


    <h2>
        <a href="#apidoc.element.cli.native.assert.assert" id="apidoc.element.cli.native.assert.assert">
        function <span class="apidocSignatureSpan">cli.native.</span>assert
        <span class="apidocSignatureSpan">(value, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ok(value, message) {
  if (!value) fail(value, true, message, '==', assert.ok);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.AssertionError" id="apidoc.element.cli.native.assert.AssertionError">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>AssertionError
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function AssertionError(options) {
  this.name = 'AssertionError';
  this.actual = options.actual;
  this.expected = options.expected;
  this.operator = options.operator;
  if (options.message) {
    this.message = options.message;
    this.generatedMessage = false;
  } else {
    this.message = getMessage(this);
    this.generatedMessage = true;
  }
  var stackStartFunction = options.stackStartFunction || fail;
  Error.captureStackTrace(this, stackStartFunction);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.deepEqual" id="apidoc.element.cli.native.assert.deepEqual">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>deepEqual
        <span class="apidocSignatureSpan">(actual, expected, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function deepEqual(actual, expected, message) {
  if (!_deepEqual(actual, expected, false)) {
    fail(actual, expected, message, 'deepEqual', assert.deepEqual);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.deepStrictEqual" id="apidoc.element.cli.native.assert.deepStrictEqual">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>deepStrictEqual
        <span class="apidocSignatureSpan">(actual, expected, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function deepStrictEqual(actual, expected, message) {
  if (!_deepEqual(actual, expected, true)) {
    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.doesNotThrow" id="apidoc.element.cli.native.assert.doesNotThrow">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>doesNotThrow
        <span class="apidocSignatureSpan">(block, error, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">doesNotThrow = function (block, error, message) {
  _throws(false, block, error, message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.equal" id="apidoc.element.cli.native.assert.equal">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>equal
        <span class="apidocSignatureSpan">(actual, expected, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function equal(actual, expected, message) {
  if (actual != expected) fail(actual, expected, message, '==', assert.equal);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.fail" id="apidoc.element.cli.native.assert.fail">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>fail
        <span class="apidocSignatureSpan">(actual, expected, message, operator, stackStartFunction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function fail(actual, expected, message, operator, stackStartFunction) {
  throw new assert.AssertionError({
    message: message,
    actual: actual,
    expected: expected,
    operator: operator,
    stackStartFunction: stackStartFunction
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.ifError" id="apidoc.element.cli.native.assert.ifError">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>ifError
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">ifError = function (err) { if (err) throw err; }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.notDeepEqual" id="apidoc.element.cli.native.assert.notDeepEqual">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>notDeepEqual
        <span class="apidocSignatureSpan">(actual, expected, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function notDeepEqual(actual, expected, message) {
  if (_deepEqual(actual, expected, false)) {
    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.notDeepStrictEqual" id="apidoc.element.cli.native.assert.notDeepStrictEqual">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>notDeepStrictEqual
        <span class="apidocSignatureSpan">(actual, expected, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function notDeepStrictEqual(actual, expected, message) {
  if (_deepEqual(actual, expected, true)) {
    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.notEqual" id="apidoc.element.cli.native.assert.notEqual">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>notEqual
        <span class="apidocSignatureSpan">(actual, expected, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function notEqual(actual, expected, message) {
  if (actual == expected) {
    fail(actual, expected, message, '!=', assert.notEqual);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.notStrictEqual" id="apidoc.element.cli.native.assert.notStrictEqual">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>notStrictEqual
        <span class="apidocSignatureSpan">(actual, expected, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function notStrictEqual(actual, expected, message) {
  if (actual === expected) {
    fail(actual, expected, message, '!==', assert.notStrictEqual);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.ok" id="apidoc.element.cli.native.assert.ok">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>ok
        <span class="apidocSignatureSpan">(value, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ok(value, message) {
  if (!value) fail(value, true, message, '==', assert.ok);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Adds options to show/hide the stylized status messages that are output to the console when using one of these methods

```javascript
cli.debug(msg);  //Only shown when using --debug
cli.error(msg);
cli.fatal(msg);  //Exits the process after outputting msg
cli.info(msg);
cli.<span class="apidocCodeKeywordSpan">ok</span>(msg);
```

`-k,--no-color` will omit ANSI color escapes from the output

**glob**  - *requires* `npm install glob`

Enables glob matching of arguments
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.strictEqual" id="apidoc.element.cli.native.assert.strictEqual">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>strictEqual
        <span class="apidocSignatureSpan">(actual, expected, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function strictEqual(actual, expected, message) {
  if (actual !== expected) {
    fail(actual, expected, message, '===', assert.strictEqual);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.cli.native.assert.throws" id="apidoc.element.cli.native.assert.throws">
        function <span class="apidocSignatureSpan">cli.native.assert.</span>throws
        <span class="apidocSignatureSpan">(block, error, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">throws = function (block, error, message) {
  _throws(true, block, error, message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>